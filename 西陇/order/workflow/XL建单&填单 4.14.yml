app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: XLå»ºå•&å¡«å• 4.14
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/siliconflow:0.0.33@6792acf632f24f1c41a3192a78ef181f7149811a8dfd9a16ade984978613f79c
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/tongyi:0.0.56@42a5fb7bc09b2f14f9d19f0ac79bec42c3c50dba07a52bf1b6d3abcd6906c739
    version: null
kind: app
version: 0.4.0
workflow:
  conversation_variables:
  - description: ç”¨æˆ·è¾“å…¥çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬queryå’Œå›¾ç‰‡æå–çš„ä¿¡æ¯
    id: d74e30c0-6c24-48f0-b13c-809a58bc5fc9
    name: query_file_text
    selector:
    - conversation
    - query_file_text
    value: ''
    value_type: string
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      - .PDF
      - .XLSX
      - .XLS
      - .DOC
      - .DOCX
      allowed_file_types:
      - image
      - document
      allowed_file_upload_methods:
      - local_file
      - remote_url
      enabled: true
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: æ‚¨å¥½ï¼æˆ‘æ˜¯è¥¿é™‡è®¢å•åŠ©æ‰‹ã€‚è¯·è¾“å…¥è®¢å•ä¿¡æ¯æˆ–ä¸Šä¼ æ–‡ä»¶ï¼ˆå›¾ç‰‡/PDFï¼‰ï¼Œæˆ‘å°†ä¸ºæ‚¨æå–å¹¶æ ¡éªŒè®¢å•å­—æ®µã€‚
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: if-else
      id: 1761896534199-source-1762313281615-target
      source: '1761896534199'
      sourceHandle: source
      target: '1762313281615'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1762313281615-cc72a78a-d90d-4a8d-ad8c-6f0c9619f0c2-1761890427734-target
      source: '1762313281615'
      sourceHandle: cc72a78a-d90d-4a8d-ad8c-6f0c9619f0c2
      target: '1761890427734'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: answer
      id: 1762313281615-false-1761890427734-target
      source: '1762313281615'
      sourceHandle: 'false'
      target: '1761890427734'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: answer
      id: 1762313978035-source-1762314751987-target
      source: '1762313978035'
      sourceHandle: source
      target: '1762314751987'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: iteration
      id: 1762313281615-true-1762395530294-iteration-target
      source: '1762313281615'
      sourceHandle: 'true'
      target: 1762395530294-iteration
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: iteration
        targetType: code
      id: 1762395530294-iteration-source-1762395530294-code-target
      source: 1762395530294-iteration
      sourceHandle: source
      target: 1762395530294-code
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: code
        targetType: llm
      id: 1762395530294-code-source-1762313978035-target
      source: 1762395530294-code
      sourceHandle: source
      target: '1762313978035'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1762313281615-true-1762400638596-target
      source: '1762313281615'
      sourceHandle: 'true'
      target: '1762400638596'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1762400638596-source-1762313978035-target
      source: '1762400638596'
      sourceHandle: source
      target: '1762313978035'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: if-else
        targetType: knowledge-retrieval
      id: 1762313281615-true-1762401118434-target
      source: '1762313281615'
      sourceHandle: 'true'
      target: '1762401118434'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: knowledge-retrieval
        targetType: llm
      id: 1762401118434-source-1762313978035-target
      source: '1762401118434'
      sourceHandle: source
      target: '1762313978035'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: true
        isInLoop: false
        sourceType: iteration-start
        targetType: knowledge-retrieval
      id: 1762395530294-iteration-start-source-1762395530294-target
      source: 1762395530294-iteration-start
      sourceHandle: source
      target: '1762395530294'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: llm
      id: start-source-1761896534199-target
      source: start
      sourceHandle: source
      target: '1761896534199'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: start
        targetType: if-else
      id: start-source-1762997677438-target
      source: start
      sourceHandle: source
      target: '1762997677438'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 52
      id: start
      position:
        x: 439.92388898811157
        y: 185.77454744982015
      positionAbsolute:
        x: 439.92388898811157
        y: 185.77454744982015
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        memory:
          query_prompt_template: '{{#sys.query#}}

            {{#sys.files#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: true
            size: 10
        model:
          completion_params: {}
          mode: chat
          name: qwen3-vl-plus
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 13840b96-c00e-4fa3-aacd-e6fad7a267fc
          role: system
          text: '# æ–‡æœ¬æå–ä¸ç»„åˆ Prompt



            ## è§’è‰²/ä»»åŠ¡

            - è§’è‰²ï¼šå¤šæ¨¡æ€æ–‡æœ¬æå–ä¸ç»„åˆä¸“å®¶

            - ä»»åŠ¡ï¼šä»ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬å’Œå›¾ç‰‡ä¸­æå–æ‰€æœ‰æ–‡æœ¬ä¿¡æ¯ï¼Œå¹¶ç»„åˆæˆç»Ÿä¸€çš„æ–‡æœ¬è¾“å‡ºï¼Œä¼ é€’ç»™ä¸‹ä¸€ä¸ªèŠ‚ç‚¹



            ## æ ¸å¿ƒåŸåˆ™

            1. **å®Œæ•´æ€§**ï¼šç¡®ä¿æå–ç”¨æˆ·è¾“å…¥æ–‡æœ¬å’Œå›¾ç‰‡ä¸­çš„æ‰€æœ‰æ–‡æœ¬å†…å®¹ï¼Œä¸é—æ¼ä»»ä½•ä¿¡æ¯

            2. **å‡†ç¡®æ€§**ï¼šä¿æŒåŸå§‹æ–‡æœ¬çš„å‡†ç¡®æ€§ï¼Œä¸ä¿®æ”¹ã€ä¸æ¨æ–­ã€ä¸æ·»åŠ ä¸å­˜åœ¨çš„å†…å®¹

            3. **ç»“æ„åŒ–**ï¼šå°†æå–çš„æ–‡æœ¬æŒ‰ç…§æ¥æºæ¸…æ™°æ ‡æ³¨ï¼Œä¾¿äºåç»­èŠ‚ç‚¹å¤„ç†

            4. **ç‹¬ç«‹æ€§**ï¼šç”¨æˆ·è¾“å…¥æ–‡æœ¬å’Œå›¾ç‰‡æ–‡æœ¬é€šå¸¸ä»£è¡¨ä¸¤ä¸ªç‹¬ç«‹çš„è®¢å•ï¼Œåº”ä¿æŒå„è‡ªçš„å®Œæ•´æ€§ï¼Œä½œä¸ºç‹¬ç«‹æ®µè½è¾“å‡º

            5. **æ®µè½åˆ†éš”**ï¼šç»„åˆæ–‡æœ¬ä¸­ä¸¤éƒ¨åˆ†æ–‡æœ¬ä½¿ç”¨ç©ºè¡Œåˆ†éš”ï¼Œç¡®ä¿åç»­èŠ‚ç‚¹èƒ½å¤Ÿè¯†åˆ«å’Œå¤„ç†å¤šä¸ªç‹¬ç«‹è®¢å•



            ## è¾“å…¥å¤„ç†è§„åˆ™



            ### 1. ç”¨æˆ·è¾“å…¥æ–‡æœ¬å¤„ç†

            - ç›´æ¥æå–ç”¨æˆ·è¾“å…¥çš„æ–‡æœ¬å†…å®¹ï¼ˆ`sys.query`ï¼‰

            - ä¿ç•™åŸå§‹æ ¼å¼å’Œæ ‡ç‚¹ç¬¦å·



            ### 2. å›¾ç‰‡æ–‡æœ¬æå–å¤„ç†

            - è¯†åˆ«å¹¶æå–å›¾ç‰‡ä¸­çš„æ‰€æœ‰å¯è§æ–‡æœ¬

            - å¦‚æœæœ‰å¤šå¼ å›¾ç‰‡ï¼ŒæŒ‰é¡ºåºæå–æ¯å¼ å›¾ç‰‡çš„æ–‡æœ¬



            ### 3. æ–‡æœ¬ç»„åˆè§„åˆ™

            - **ç»„åˆé¡ºåº**ï¼šä¼˜å…ˆç”¨æˆ·è¾“å…¥æ–‡æœ¬ï¼Œå…¶æ¬¡å›¾ç‰‡æ–‡æœ¬

            - **æ®µè½åˆ†éš”**ï¼šç”¨æˆ·è¾“å…¥æ–‡æœ¬å’Œå›¾ç‰‡æ–‡æœ¬ä½œä¸ºå¤šä¸ªç‹¬ç«‹çš„æ®µè½è¾“å‡ºï¼Œä½¿ç”¨ç©ºè¡Œåˆ†éš”

            - **ç‹¬ç«‹æ€§**ï¼šç”¨æˆ·è¾“å…¥æ–‡æœ¬å’Œå›¾ç‰‡æ–‡æœ¬åº”ä¿æŒå„è‡ªçš„å®Œæ•´æ€§ï¼Œä¸è¿›è¡Œåˆå¹¶æˆ–èåˆ



            ## è¾“å‡ºæ ¼å¼



            ### æ ‡å‡†è¾“å‡ºæ ¼å¼

            ```markdown

            ã€ç”¨æˆ·è¾“å…¥æ–‡æœ¬ã€‘

            {ç”¨æˆ·è¾“å…¥çš„åŸå§‹æ–‡æœ¬å†…å®¹}



            ã€å›¾ç‰‡æ–‡æœ¬ã€‘

            {ä»å›¾ç‰‡ä¸­æå–çš„æ–‡æœ¬å†…å®¹ï¼Œå¦‚æœæœ‰å¤šå¼ å›¾ç‰‡ï¼ŒæŒ‰é¡ºåºæ ‡æ³¨ï¼šå›¾ç‰‡1ã€å›¾ç‰‡2...}




            ## ç¤ºä¾‹



            ### ç¤ºä¾‹1ï¼šç”¨æˆ·è¾“å…¥æ–‡æœ¬ + å›¾ç‰‡æ–‡æœ¬

            **è¾“å…¥**ï¼š

            - ç”¨æˆ·è¾“å…¥ï¼š"ä¸ºåæ¶¦é¡ºå³°ä¸‹10æ¡¶ç”²è‹¯ï¼Œå•ä»·3100å…ƒ/æ¡¶ï¼Œä¸‹æœˆ5å·äº¤è´§"

            - å›¾ç‰‡ï¼šåŒ…å«å¦ä¸€ä¸ªè®¢å•çš„æˆªå›¾ï¼Œæ˜¾ç¤º"ä¸ºè‹å·é”æ°å¾®ä¸‹20ç“¶æ°¢æ°§åŒ–é’ ï¼Œå•ä»·2180å…ƒ/ç“¶ï¼Œäº¤è´§æ—¥æœŸï¼š2025-06-10"



            **è¾“å‡º**ï¼š

            ```

            ã€ç”¨æˆ·è¾“å…¥æ–‡æœ¬ã€‘

            ä¸ºåæ¶¦é¡ºå³°ä¸‹10æ¡¶ç”²è‹¯ï¼Œå•ä»·3100å…ƒ/æ¡¶ï¼Œä¸‹æœˆ5å·äº¤è´§



            ã€å›¾ç‰‡æ–‡æœ¬ã€‘

            ä¸ºè‹å·é”æ°å¾®ä¸‹20ç“¶æ°¢æ°§åŒ–é’ ï¼Œå•ä»·2180å…ƒ/ç“¶ï¼Œäº¤è´§æ—¥æœŸï¼š2025-06-10

            ```


            '
        reasoning_format: tagged
        selected: false
        structured_output:
          schema:
            properties:
              CostomerGoodsList:
                type: string
              customerlist:
                description: è‹¥æœ‰å¤šä¸ªå®¢æˆ·ï¼Œåˆ™ç”¨é€—å·éš”å¼€æ˜¾ç¤ºå¤šä¸ªå®¢æˆ·åç§°ï¼›è‹¥åªæœ‰ä¸€ä¸ªå®¢æˆ·ï¼Œåˆ™æ˜¾ç¤ºè¯¥å®¢æˆ·åç§°ã€‚
                type: string
              goodslist:
                description: è‹¥æœ‰å¤šä¸ªç‰©æ–™åç§°ï¼Œç”¨é€—å·éš”å¼€æ˜¾ç¤ºæ‰€æœ‰ç‰©æ–™åç§°ï¼›è‹¥åªæœ‰ä¸€ä¸ªå•†å“ï¼Œåˆ™æ˜¾ç¤ºå½“å‰ç‰©æ–™åç§°ã€‚
                type: string
              goodslistArray:
                description: å±•ç¤ºå…¨éƒ¨çš„ç‰©æ–™åç§°
                items:
                  type: string
                type: array
              orderlist:
                items:
                  properties:
                    å…¶ä»–ä¿¡æ¯:
                      properties:
                        å‘ç¥¨ä¿¡æ¯:
                          type: string
                        å¤‡æ³¨ä¿¡æ¯:
                          description: æ˜¾ç¤ºåˆåŒç¼–å·æˆ–è€…è®¢å•ç¼–å·
                          type: string
                        æ”¯ä»˜ä¿¡æ¯:
                          type: string
                        ç»“ç®—ä¿¡æ¯:
                          type: string
                      required: []
                      type: object
                    å®¢æˆ·ä¿¡æ¯:
                      properties:
                        ä¾›åº”å•†åç§°:
                          type: string
                        ä¾›åº”å•†åœ°å€:
                          type: string
                        ä¾›åº”å•†ç”µè¯:
                          type: string
                        ä¾›åº”å•†è”ç³»äºº:
                          type: string
                        å…¬å¸åç§°:
                          type: string
                        é‡‡è´­è®¢å•å·:
                          type: string
                      required:
                      - å…¬å¸åç§°
                      type: object
                    æ”¶è´§ä¿¡æ¯:
                      properties:
                        æ”¶è´§åœ°å€:
                          type: string
                        é…é€æ–¹å¼:
                          type: string
                      required: []
                      type: object
                    ç‰©æ–™æ˜ç»†:
                      items:
                        properties:
                          å•ä»·:
                            type: number
                          å•ä½:
                            type: string
                          åç§°:
                            type: string
                          å¤‡æ³¨:
                            type: string
                          æ€»é‡‘é¢:
                            type: number
                          æ•°é‡:
                            type: integer
                          æœŸæœ›äº¤è´§æ—¥æœŸ:
                            format: date
                            type: string
                        required:
                        - åç§°
                        - å•ä»·
                        - æ•°é‡
                        - æ€»é‡‘é¢
                        - å•ä½
                        - æœŸæœ›äº¤è´§æ—¥æœŸ
                        type: object
                      type: array
                  required:
                  - å®¢æˆ·ä¿¡æ¯
                  - ç‰©æ–™æ˜ç»†
                  - å…¶ä»–ä¿¡æ¯
                  type: object
                type: array
            required:
            - orderlist
            - customerlist
            - goodslist
            - goodslistArray
            - CostomerGoodsList
            type: object
        structured_output_enabled: false
        title: ä¿¡æ¯è¯»å–
        type: llm
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 88
      id: llm
      position:
        x: 1065.9058097589862
        y: -129.7715179397602
      positionAbsolute:
        x: 1065.9058097589862
        y: -129.7715179397602
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1761896534199.structured_output.clarify_question#}}'
        selected: false
        title: æ¾„æ¸…
        type: answer
        variables: []
      height: 103
      id: '1761890427734'
      position:
        x: 2559.9082502893298
        y: 362.1775366425461
      positionAbsolute:
        x: 2559.9082502893298
        y: 362.1775366425461
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: qwen-plus-latest
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 75f36408-7a49-4d90-8569-68de691e73e1
          role: system
          text: "## è§’è‰²/ä»»åŠ¡\n- è§’è‰²ï¼šè®¢å•æ„å›¾è¯†åˆ«ä¸“å®¶ï¼ˆåŒ–å·¥B2Bï¼‰\n- ä»»åŠ¡ï¼šæ ¹æ®ç”¨æˆ·è¾“å…¥è¿›è¡Œæ„å›¾è¯†åˆ«ä¸ä¿¡æ¯æå–ï¼›ä¸¥æ ¼å¯¹é½ç»“æ„åŒ–è¾“å‡ºå­—æ®µï¼Œä»…è¿”å›\
            \ JSON æœ¬ä½“\n\n\n##ä¸Šä¸‹æ–‡\n\n## æ ¸å¿ƒåŸåˆ™\n1. ä¸è‡†æµ‹ï¼šæ— æ³•ç¡®å®šçš„å­—æ®µä¸è¾“å‡ºï¼›ç¼ºå¿…å¡«å­—æ®µè¿›å…¥æ¾„æ¸…æµç¨‹\n   - **æ ¸å¿ƒä¿¡æ¯**ï¼šå®¢æˆ·åç§°ã€ç‰©æ–™åç§°ã€æ•°é‡ã€å•ä½\n\
            \   - **ä¾‹å¤–**ï¼šç›¸å¯¹æ—¥æœŸè¡¨è¾¾ï¼ˆå¦‚\"æœ¬å‘¨äº”\"ã€\"ä¸‹æœˆ5å·\"ï¼‰å¯åŸºäºå½“å‰æ—¶é—´æ¨æ–­ï¼Œä¸å±äºè‡†æµ‹\n2. è¯­ä¹‰ç†è§£ï¼šåŸºäºç”¨æˆ·è¾“å…¥çš„æ•´ä½“è¯­ä¹‰åˆ¤æ–­æ„å›¾ï¼Œä¸ä¾èµ–ç‰¹å®šå…³é”®è¯\n\
            3. è¾“å…¥çš„æ–‡æœ¬åŒ…æ‹¬ç”¨æˆ·æ–‡æœ¬å’Œå›¾ç‰‡æ–‡æœ¬ï¼Œéƒ½éœ€è¦è¿›è¡Œè§£æï¼Œç¡®ä¿æ²¡æœ‰é—æ¼è®¢å•ï¼›å½“ç”¨æˆ·æ–‡æœ¬ä¸å›¾ç‰‡æ–‡æœ¬ä¸­è®¢å•å…³é”®å­—æ®µé‡å¤æ—¶ï¼Œéœ€è¦æ¾„æ¸…ã€‚\n3. æ¾„æ¸…æœ€å°åŒ–ï¼šåªå¯¹å¿…å¡«å­—æ®µç¼ºå¤±æ—¶æ¾„æ¸…ï¼Œéå¿…å¡«å­—æ®µç¼ºå¤±ä¸æ¾„æ¸…\n\
            \n\n## æ„å›¾è¦ç‚¹\n### 1. è‡ªåŠ©ä¸‹å•\n**æ„å›¾å®šä¹‰**ï¼šç”¨æˆ·è¦æ±‚è¿›è¡Œè‡ªåŠ©ä¸‹å•ï¼Œéœ€è¦ä»è¾“å…¥ä¸­æå–å®é™…è®¢å•ä¿¡æ¯ï¼Œå¡«å……åˆ°ç»“æ„åŒ–è¾“å‡ºå­—æ®µã€‚å¦‚ï¼šç”¨æˆ·è¡¨è¾¾\"\
            ä¸‹å•\"ã€\"é‡‡è´­\"ã€\"ç”³è´­\"ç­‰æ„å›¾æ—¶ï¼Œæˆ–è¾“å…¥å±äºè®¢å•çš„å…³é”®æ ¸å¿ƒå­—æ®µï¼Œå±äºæ­¤æ„å›¾ã€‚å¯èƒ½å­˜åœ¨å¤šä¸ªè®¢å•ï¼Œéœ€è¦ç”Ÿæˆå¤šä¸ªè®¢å•å¯¹è±¡ã€‚\n\n\n\
            **è¾“å‡ºå‚æ•°**ï¼š\n- intent: \"è‡ªåŠ©ä¸‹å•\"ï¼ˆå¿…å¡«ï¼‰\n- orderlist: å¿…å¡«ï¼ˆä»è¾“å…¥ä¸­æå–çš„è®¢å•ä¿¡æ¯ï¼ŒåŒ…å«å®¢æˆ·ä¿¡æ¯ã€ç‰©æ–™æ˜ç»†ã€æ”¶è´§ä¿¡æ¯ã€å…¶ä»–ä¿¡æ¯ï¼‰\n\
            - customerlist: å¿…å¡«ï¼ˆä»è¾“å…¥ä¸­æå–çš„å®¢æˆ·åç§°å­—ç¬¦ä¸²ï¼Œå¤šä¸ªå®¢æˆ·ç”¨é€—å·éš”å¼€ï¼‰\n- customerlistArray: å¿…å¡«ï¼ˆä»è¾“å…¥ä¸­æå–çš„å®¢æˆ·åç§°æ•°ç»„ï¼‰\n\
            - goodslist: å¿…å¡«ï¼ˆä»è¾“å…¥ä¸­æå–çš„ç‰©æ–™åç§°å­—ç¬¦ä¸²ï¼Œå¤šä¸ªç‰©æ–™ç”¨é€—å·éš”å¼€ï¼‰\n- goodslistArray: å¿…å¡«ï¼ˆä»è¾“å…¥ä¸­æå–çš„ç‰©æ–™åç§°æ•°ç»„ï¼‰\n\
            - Customer_goods_List: å¿…å¡«ï¼ˆä»è¾“å…¥ä¸­æå–çš„å®¢æˆ·ä¸ç‰©æ–™çš„æ˜ å°„å…³ç³»ï¼Œæ ¼å¼ï¼š\"å…¬å¸åç§°:ç‰©æ–™1,ç‰©æ–™2;å…¬å¸åç§°2:ç‰©æ–™3\"\
            ï¼‰\n- éå¿…å¡«å‚æ•°ï¼šå•ä»·ã€é‡‡è´­è®¢å•å·ã€ä¾›åº”å•†ä¿¡æ¯ã€æ”¶è´§åœ°å€ã€é…é€æ–¹å¼ã€å¤‡æ³¨ã€å‘ç¥¨ä¿¡æ¯ã€æ”¯ä»˜ä¿¡æ¯ã€ç»“ç®—ä¿¡æ¯ç­‰ï¼Œå°½å¯èƒ½æå–ï¼Œæœ€ç»ˆå­—æ®µä»¥output_schemaç»“æ„å®šä¹‰ä¸ºå‡†ã€‚ï¼ˆéå¿…å¡«å‚æ•°ä¸å½±å“ç½®ä¿¡åº¦è¯„åˆ†ï¼‰\n\
            \n\n\n---\n\n\n\n### 2. å•†å“æŸ¥è¯¢\n**æ„å›¾å®šä¹‰**ï¼šç”¨æˆ·è¾“å…¥å†…å®¹ä¸ºå•†å“æŸ¥è¯¢ï¼Œéœ€è¦ä»è¾“å…¥ä¸­æå–å®é™…å•†å“ä¿¡æ¯å¹¶ä¸å†…éƒ¨å•†å“è¿›è¡Œæ˜ å°„ï¼Œå¡«å……åˆ°ç»“æ„åŒ–è¾“å‡ºå­—æ®µã€‚å¦‚ï¼šç”¨æˆ·è¡¨è¾¾\"\
            æŸ¥è¯¢\"ã€\"æŸ¥è¯¢å•†å“\"ã€\"æŸ¥è¯¢ç‰©æ–™\"ç­‰æ„å›¾æ—¶ï¼Œæˆ–è¾“å…¥ç‰©æ–™ç¼–ç /ç‰©æ–™åç§°æ—¶ï¼Œå±äºæ­¤æ„å›¾ã€‚\n\n\n\n**è¾“å‡ºå‚æ•°**ï¼š\n- intent:\
            \ \"å•†å“æŸ¥è¯¢\"ï¼ˆå¿…å¡«ï¼‰\n- goodslist: å¿…å¡«ï¼ˆä»è¾“å…¥ä¸­æå–çš„ç‰©æ–™åç§°å­—ç¬¦ä¸²ï¼Œå¤šä¸ªç‰©æ–™ç”¨é€—å·éš”å¼€ï¼‰\n- goodslistArray:\
            \ å¿…å¡«ï¼ˆä»è¾“å…¥ä¸­æå–çš„ç‰©æ–™åç§°æ•°ç»„ï¼‰\n\n\n---\n\n\n## è¯„åˆ†ä¸æ¾„æ¸…è§„åˆ™\n- è¯„åˆ†ä¸æ¾„æ¸…è§„åˆ™\n  - å¿…è¿”ï¼šconfidence\
            \ âˆˆ[0,1]ã€confidence_level âˆˆ{low,medium,high}ã€confidence_reasonï¼ˆ12~50å­—ï¼‰ã€‚\n\
            \  - é˜ˆå€¼ï¼š<0.60=lowï¼›0.60~0.85=mediumï¼›â‰¥0.85=highï¼›ä»…åœ¨å…³é”®ä¿¡æ¯å®Œå¤‡ä¸”æ— ä¸å½“æ¨æ–­æ—¶å¯åˆ° 1.00ã€‚\n\
            \  - clarify_neededï¼šå­—ç¬¦ä¸² 'true' æˆ– 'false'ã€‚å½“å¿…å¡«å­—æ®µç¼ºå¤±æ—¶ç½®ä¸º 'true'ï¼Œå¹¶è¿”å› missing_fieldsã€clarify_itemsã€clarify_questionï¼ˆä¸­æ–‡ä¸€å¥æœ€ä½³æ¾„æ¸…é—®æ³•ï¼‰ã€‚\n\
            \  - æœªè¯†åˆ«æ„å›¾æ¾„æ¸…ï¼šå½“ intent=æœªè¯†åˆ«æ„å›¾ æ—¶ï¼Œclarify_question å›ºå®šè¾“å‡ºï¼šä¸å¥½æ„æ€ï¼Œæˆ‘è¿˜æ²¡å®Œå…¨æ˜ç™½ä½ çš„æ„æ€ã€‚èƒ½å¦ç”¨ä¸€å¥è¯å‘Šè¯‰æˆ‘ï¼šè¦åšä»€ä¹ˆï¼Ÿç¤ºä¾‹ï¼šå¸®è‹å·é”æ°å¾®è®¢è´­20ç“¶æ°¢æ°§åŒ–é’ ï¼›æŸ¥è¯¢æ°¢æ°§åŒ–é’ çš„å•†å“ä¿¡æ¯ã€‚\n\
            \n\n## CoTï¼ˆéšå¼ï¼‰\n- æ­¥éª¤ï¼šæ„å›¾åˆ¤æ–­ â†’ ä¿¡æ¯æå– â†’ å®Œæ•´åº¦è¯„ä¼° â†’ ç½®ä¿¡åº¦è®¡ç®— â†’ æ¾„æ¸…åˆ¤æ–­ â†’ ç»“æ„åŒ–è¾“å‡º\n- æœ€ç»ˆä»…è¾“å‡º\
            \ JSONï¼Œä¸å±•ç¤ºæ€è€ƒè¿‡ç¨‹\n\n\n\n## è¾“å‡ºè§„èŒƒ\n- ä»…è¿”å›ç»“æ„åŒ– JSONï¼›ç¦æ­¢ç©ºé”®ã€nullã€unknownã€å ä½ç¬¦\n-\
            \ å¿…é¡»å­—æ®µï¼šintentã€confidenceã€confidence_levelã€confidence_reasonã€clarify_needed\n\
            - å½“ intent=\"è‡ªåŠ©ä¸‹å•\" æ—¶ï¼Œå¿…é¡»åŒ…å«ï¼šorderlistã€customerlistã€customerlistArrayã€goodslistã€goodslistArrayã€Customer_goods_List\n\
            - å½“ intent=\"å•†å“æŸ¥è¯¢\" æ—¶ï¼Œå¿…é¡»åŒ…å«ï¼šgoodslistã€goodslistArray\n- æ ¼å¼ï¼šYYYY-MM-DD HH:MM:SSï¼Œå½“ç”¨æˆ·ä½¿ç”¨ç›¸å¯¹æ—¥æœŸè¡¨è¾¾æ—¶ï¼Œ**å¿…é¡»**åŸºäºå½“å‰æ—¶é—´è‡ªåŠ¨è½¬æ¢ä¸ºYYYY-MM-DDæ ¼å¼ï¼Œä¸ç®—è‡†æµ‹\n\
            \n\n\n## å­—æ®µè¯´æ˜\n### åŸºç¡€å­—æ®µï¼ˆæ‰€æœ‰æ„å›¾å¿…è¿”ï¼‰ï¼š\n- intent: stringï¼Œå¿…å¡«ã€‚æ„å›¾ç±»å‹ï¼Œå–å€¼ä¸ºï¼š\"è‡ªåŠ©ä¸‹å•\"\
            ã€\"å•†å“æŸ¥è¯¢\"ã€\"æœªè¯†åˆ«æ„å›¾\"\n- confidence: numberï¼Œå¿…å¡«ã€‚ç½®ä¿¡åº¦ï¼ŒèŒƒå›´ [0,1]\n- confidence_level:\
            \ stringï¼Œå¿…å¡«ã€‚ç½®ä¿¡åº¦ç­‰çº§ï¼Œå–å€¼ä¸ºï¼š\"low\"ã€\"medium\"ã€\"high\"\n- confidence_reason:\
            \ stringï¼Œå¿…å¡«ã€‚ç½®ä¿¡åº¦åŸå› è¯´æ˜ï¼Œ12~50å­—\n- clarify_needed: stringï¼Œå¿…å¡«ã€‚æ˜¯å¦éœ€è¦æ¾„æ¸…ï¼Œå–å€¼ä¸ºï¼š\"\
            true\"ã€\"false\"\n- clarify_question: stringï¼Œå¯é€‰ã€‚æ¾„æ¸…é—®é¢˜ï¼Œéœ€æ¾„æ¸…æ—¶è¿”å›\n- clarify_items:\
            \ string[]ï¼Œå¯é€‰ã€‚å…·ä½“éœ€è¦æ¾„æ¸…çš„äº‹é¡¹åˆ—è¡¨ï¼Œéœ€æ¾„æ¸…æ—¶è¿”å›\n- missing_fields: string[]ï¼Œå¯é€‰ã€‚ç¼ºå¤±çš„å­—æ®µåç§°åˆ—è¡¨ï¼Œéœ€æ¾„æ¸…æ—¶è¿”å›\n\
            \n\n\n### è®¢å•æ•°æ®å­—æ®µï¼ˆä»…å½“ intent=\"è‡ªåŠ©ä¸‹å•\" æ—¶å¿…è¿”ï¼‰ï¼š\n- orderlist: arrayï¼Œè®¢å•åˆ—è¡¨ï¼Œæ¯ä¸ªè®¢å•å¯¹è±¡åŒ…å«ä»¥ä¸‹ç»“æ„ï¼š\n\
            \  - å®¢æˆ·ä¿¡æ¯: objectï¼Œå¿…å¡«\n    - å…¬å¸åç§°: stringï¼Œ**å¿…å¡«** âœ… **ç¼ºå¤±éœ€æ¾„æ¸…**\n    - é‡‡è´­è®¢å•å·:\
            \ stringï¼Œå¯é€‰ âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - ä¾›åº”å•†åç§°: stringï¼Œå¯é€‰ï¼ˆè¥¿é™‡å…¬å¸åŠå…¶å…³è”å…¬å¸ï¼‰âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    -\
            \ ä¾›åº”å•†åœ°å€: stringï¼Œå¯é€‰ âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - ä¾›åº”å•†ç”µè¯: stringï¼Œå¯é€‰ âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - ä¾›åº”å•†è”ç³»äºº:\
            \ stringï¼Œå¯é€‰ âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n  - ç‰©æ–™æ˜ç»†: arrayï¼Œå¿…å¡«ï¼Œæ¯ä¸ªç‰©æ–™å¯¹è±¡åŒ…å«ï¼š\n    - åç§°: stringï¼Œ**å¿…å¡«**\
            \ âœ… **ç¼ºå¤±éœ€æ¾„æ¸…**\n    - å•†å“ç±»å‹: stringï¼Œå¿…å¡«ï¼ˆå¯æ¨æ–­ï¼Œå¦‚\"åŒ–å­¦å“\"ï¼‰âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - å•ä»·: numberï¼Œå¯é€‰\
            \ âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - æ•°é‡: integerï¼Œ**å¿…å¡«** âœ… **ç¼ºå¤±éœ€æ¾„æ¸…**\n    - æ€»é‡‘é¢: numberï¼Œå¯é€‰ï¼ˆå•ä»·Ã—æ•°é‡ï¼‰âŒ\
            \ ç¼ºå¤±ä¸æ¾„æ¸…\n    - å•ä½: stringï¼Œ**å¿…å¡«**ï¼ˆå¦‚ï¼škgã€ç“¶ã€æ¡¶ç­‰ï¼‰âœ… **ç¼ºå¤±éœ€æ¾„æ¸…**\n    - æœŸæœ›äº¤è´§æ—¥æœŸ:\
            \ stringï¼Œå¯é€‰ï¼Œæ ¼å¼ä¸ºYYYY-MM-DD âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - å¤‡æ³¨: stringï¼Œå¯é€‰ âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n  - æ”¶è´§ä¿¡æ¯:\
            \ objectï¼Œå¯é€‰ âŒ **æ•´ä¸ªå¯¹è±¡ç¼ºå¤±ä¸æ¾„æ¸…**\n    - æ”¶è´§åœ°å€: stringï¼Œå¯é€‰ âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - é…é€æ–¹å¼:\
            \ stringï¼Œå¯é€‰ï¼ˆæ ¹æ®æ˜¯å¦é¢„å”®é€‰æ‹©å¯¹åº”çš„é…é€æ–¹å¼ï¼‰âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n  - å…¶ä»–ä¿¡æ¯: objectï¼Œå¯é€‰ âŒ **æ•´ä¸ªå¯¹è±¡ç¼ºå¤±ä¸æ¾„æ¸…**\n\
            \    - å¤‡æ³¨ä¿¡æ¯: stringï¼Œå¯é€‰ï¼ˆæ˜¾ç¤ºåˆåŒç¼–å·æˆ–è®¢å•ç¼–å·ï¼‰âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - æ˜¯å¦é¢„å”®: stringï¼Œå¯é€‰ï¼Œå–å€¼ï¼š\"\
            æ˜¯\"æˆ–\"å¦\" âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - å‘ç¥¨ä¿¡æ¯: stringï¼Œå¯é€‰ï¼ˆå‘ç¥¨ç±»å‹ã€å¼€ç¥¨è¦æ±‚ç­‰ï¼‰âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - æ”¯ä»˜ä¿¡æ¯:\
            \ stringï¼Œå¯é€‰ï¼ˆæ”¯ä»˜æ–¹å¼ã€ä»˜æ¬¾æ—¶é—´ç­‰ï¼‰âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n    - ç»“ç®—ä¿¡æ¯: stringï¼Œå¯é€‰ï¼ˆç»“ç®—æ–¹å¼ã€ç»“ç®—å‘¨æœŸç­‰ï¼‰âŒ ç¼ºå¤±ä¸æ¾„æ¸…\n\
            - customerlist: stringï¼Œå¿…å¡«ï¼Œå®¢æˆ·åç§°å­—ç¬¦ä¸²ï¼Œå¤šä¸ªå®¢æˆ·ç”¨é€—å·éš”å¼€\n- customerlistArray: arrayï¼Œå¿…å¡«ï¼Œå®¢æˆ·åç§°æ•°ç»„\n\
            - goodslist: stringï¼Œå¿…å¡«ï¼Œç‰©æ–™åç§°å­—ç¬¦ä¸²ï¼Œå¤šä¸ªç‰©æ–™ç”¨é€—å·éš”å¼€\n- goodslistArray: arrayï¼Œå¿…å¡«ï¼Œç‰©æ–™åç§°æ•°ç»„\n\
            - Customer_goods_List: stringï¼Œå¿…å¡«ï¼Œå®¢æˆ·ä¸ç‰©æ–™çš„æ˜ å°„å…³ç³»ï¼Œæ ¼å¼ï¼š\"å…¬å¸åç§°:ç‰©æ–™1,ç‰©æ–™2;å…¬å¸åç§°2:ç‰©æ–™3\"\
            \n\n\n### å•†å“æŸ¥è¯¢å­—æ®µï¼ˆä»…å½“ intent=\"å•†å“æŸ¥è¯¢\" æ—¶å¿…è¿”ï¼‰ï¼š\n- goodslist: stringï¼Œå¿…å¡«ï¼Œç‰©æ–™åç§°å­—ç¬¦ä¸²ï¼Œå¤šä¸ªç‰©æ–™ç”¨é€—å·éš”å¼€\n\
            - goodslistArray: arrayï¼Œå¿…å¡«ï¼Œç‰©æ–™åç§°æ•°ç»„\n\n\n\n## Few-Shot\n### ç¤ºä¾‹1ï¼šè‡ªåŠ©ä¸‹å•ï¼ˆç›¸å¯¹æ—¥æœŸï¼Œä¸éœ€æ¾„æ¸…ï¼‰\n\
            **è¾“å…¥**ï¼š \n```\nå½“å‰æ—¶é—´ï¼š2025-11-12ï¼ˆå‘¨ä¸‰ï¼‰\nç”¨æˆ·è¾“å…¥ï¼šä¸ºå¤ªç¦¾ä¸‹å•10æ¡¶ç”²è‹¯ï¼Œå•ä»·3000å…ƒ/æ¡¶ï¼Œæœ¬å‘¨äº”äº¤è´§\n\
            ```\n\n\n**è¾“å‡º**ï¼š\n```json\n{\n  \"intent\": \"è‡ªåŠ©ä¸‹å•\",\n  \"confidence\"\
            : 0.88,\n  \"confidence_level\": \"high\",\n  \"confidence_reason\": \"\
            è®¢å•æ ¸å¿ƒä¿¡æ¯å®Œæ•´ï¼ŒåŒ…å«å®¢æˆ·ã€ç‰©æ–™ã€æ•°é‡ã€å•ä»·å’Œäº¤è´§æ—¥æœŸï¼ˆåŸºäºå½“å‰æ—¶é—´æ¨æ–­ï¼‰\",\n  \"clarify_needed\": \"false\"\
            ,\n  \"orderlist\": [\n    {\n      \"å®¢æˆ·ä¿¡æ¯\": {\n        \"å…¬å¸åç§°\": \"\
            å¤ªç¦¾ç²¾ç»†åŒ–å·¥æœ‰é™å…¬å¸\"\n      },\n      \"ç‰©æ–™æ˜ç»†\": [\n        {\n          \"åç§°\"\
            : \"ç”²è‹¯\",\n          \"å•†å“ç±»å‹\": \"åŒ–å­¦å“\",\n          \"å•ä»·\": 3000,\n   \
            \       \"æ•°é‡\": 10,\n          \"æ€»é‡‘é¢\": 30000,\n          \"å•ä½\": \"æ¡¶\"\
            ,\n          \"æœŸæœ›äº¤è´§æ—¥æœŸ\": \"2025-11-14\"\n        }\n      ],\n      \"\
            æ”¶è´§ä¿¡æ¯\": {},\n      \"å…¶ä»–ä¿¡æ¯\": {}\n    }\n  ],\n  \"customerlist\": \"å¤ªç¦¾ç²¾ç»†åŒ–å·¥æœ‰é™å…¬å¸\"\
            ,\n  \"customerlistArray\": [\"å¤ªç¦¾ç²¾ç»†åŒ–å·¥æœ‰é™å…¬å¸\"],\n  \"goodslist\": \"ç”²è‹¯\"\
            ,\n  \"goodslistArray\": [\"ç”²è‹¯\"],\n  \"Customer_goods_List\": \"å¤ªç¦¾ç²¾ç»†åŒ–å·¥æœ‰é™å…¬å¸:ç”²è‹¯\"\
            \n}\n```"
        - id: a1c85ba3-1506-4dc9-8917-ec7491bce4b9
          role: user
          text: ' {{#sys.query#}}'
        selected: false
        structured_output:
          schema:
            properties:
              Customer_goods_List:
                description: å®¢æˆ·å’Œç‰©æ–™çš„æ˜ å°„å…³ç³»ï¼Œæ ¼å¼ä¸º"å…¬å¸åç§°:ç‰©æ–™1,ç‰©æ–™2"ï¼Œå¤šä¸ªå®¢æˆ·ç”¨åˆ†å·åˆ†éš”
                type: string
              clarify_items:
                description: éœ€è¦æ¾„æ¸…çš„å…·ä½“äº‹é¡¹åˆ—è¡¨ï¼Œå½“ clarify_needed='true' æ—¶å¿…å¡«
                items:
                  type: string
                type: array
              clarify_needed:
                description: æ˜¯å¦éœ€è¦æ¾„æ¸…ï¼Œå¿…é¡»ä¸ºå­—ç¬¦ä¸² 'true' æˆ– 'false'
                type: string
              clarify_question:
                description: ä¸­æ–‡ä¸€å¥æœ€ä½³æ¾„æ¸…é—®æ³•ï¼Œå½“ clarify_needed='true' æ—¶å¿…å¡«ï¼›å½“ intent='æœªè¯†åˆ«æ„å›¾'
                  æ—¶å›ºå®šè¾“å‡ºæŒ‡å®šçš„æ¾„æ¸…é—®é¢˜
                type: string
              confidence:
                description: ç½®ä¿¡åº¦ï¼Œå–å€¼èŒƒå›´ [0, 1]ï¼Œæ•°å€¼ç±»å‹
                maximum: 1
                minimum: 0
                type: number
              confidence_level:
                description: ç½®ä¿¡åº¦ç­‰çº§ï¼Œæšä¸¾å€¼ï¼šlowï¼ˆ<0.60ï¼‰ã€mediumï¼ˆ0.60~0.85ï¼‰ã€highï¼ˆâ‰¥0.85ï¼‰
                enum:
                - low
                - medium
                - high
                type: string
              confidence_reason:
                description: ç½®ä¿¡åº¦è¯„ä¼°åŸå› ï¼Œ12~50å­—
                type: string
              customerlist:
                description: å®¢æˆ·åç§°çš„å­—ç¬¦ä¸²æ ¼å¼ï¼Œè‹¥æœ‰å¤šä¸ªå®¢æˆ·ï¼Œåˆ™ç”¨é€—å·éš”å¼€æ˜¾ç¤ºå¤šä¸ªå®¢æˆ·åç§°ï¼›è‹¥åªæœ‰ä¸€ä¸ªå®¢æˆ·ï¼Œåˆ™æ˜¾ç¤ºè¯¥å®¢æˆ·åç§°
                type: string
              customerlistArray:
                description: å®¢æˆ·åç§°æ•°ç»„ï¼Œå±•ç¤ºå…¨éƒ¨å®¢æˆ·åç§°ï¼Œæ¯ä¸ªå®¢æˆ·åç§°ä½œä¸ºæ•°ç»„ä¸­çš„ä¸€ä¸ªç‹¬ç«‹å…ƒç´ 
                items:
                  type: string
                type: array
              goodslist:
                description: ç‰©æ–™åç§°çš„å­—ç¬¦ä¸²æ ¼å¼ï¼Œè‹¥æœ‰å¤šä¸ªç‰©æ–™åç§°ï¼Œç”¨é€—å·éš”å¼€æ˜¾ç¤ºæ‰€æœ‰ç‰©æ–™åç§°ï¼›è‹¥åªæœ‰ä¸€ä¸ªå•†å“ï¼Œåˆ™æ˜¾ç¤ºå½“å‰ç‰©æ–™åç§°
                type: string
              goodslistArray:
                description: ç‰©æ–™åç§°æ•°ç»„ï¼Œå±•ç¤ºå…¨éƒ¨çš„ç‰©æ–™åç§°ï¼Œæ¯ä¸ªç‰©æ–™åç§°ä½œä¸ºæ•°ç»„ä¸­çš„ä¸€ä¸ªç‹¬ç«‹å…ƒç´ 
                items:
                  type: string
                type: array
              intent:
                description: æ„å›¾ç±»å‹ï¼Œæ”¯æŒï¼šè‡ªåŠ©ä¸‹å•ã€å•†å“æŸ¥è¯¢ã€æœªè¯†åˆ«æ„å›¾ç­‰
                enum:
                - è‡ªåŠ©ä¸‹å•
                - æœªè¯†åˆ«æ„å›¾
                type: string
              missing_fields:
                description: ç¼ºå¤±çš„å…³é”®å­—æ®µåç§°åˆ—è¡¨ï¼Œå½“ clarify_needed='true' æ—¶å¿…å¡«
                items:
                  type: string
                type: array
              orderlist:
                items:
                  properties:
                    å…¶ä»–ä¿¡æ¯:
                      properties:
                        å‘ç¥¨ä¿¡æ¯:
                          description: å‘ç¥¨ç›¸å…³ä¿¡æ¯ï¼Œå‘ç¥¨ç±»å‹å¯é€‰å€¼ï¼šä¸å¼€ç¥¨ã€å¢å€¼ç¨ä¸“ç”¨å‘ç¥¨ã€å¢å€¼ç¨æ™®é€šå‘ç¥¨ï¼›å¯åŒ…å«å¼€ç¥¨è¦æ±‚ã€å¼€ç¥¨æ—¶é—´ã€ç¨ç‡ç­‰è¡¥å……ä¿¡æ¯
                          type: string
                        å¤‡æ³¨ä¿¡æ¯:
                          description: æ˜¾ç¤ºåˆåŒç¼–å·æˆ–è€…è®¢å•ç¼–å·
                          type: string
                        æ”¯ä»˜ä¿¡æ¯:
                          description: æ”¯ä»˜ç›¸å…³ä¿¡æ¯ï¼Œæ”¯ä»˜æ–¹å¼å¯é€‰å€¼ï¼šè´¦æœŸæ”¯ä»˜ã€çº¿ä¸‹æ”¯ä»˜ï¼ˆé“¶è¡Œè½¬è´¦ï¼‰ã€æ‰¿å…‘æ±‡ç¥¨ã€åœ¨çº¿æ”¯ä»˜ã€é“¶è¡Œè½¬è´¦+æ‰¿å…‘æ±‡ç¥¨ï¼›å¯åŒ…å«ä»˜æ¬¾æ—¶é—´ã€ä»˜æ¬¾æœŸé™ç­‰è¡¥å……ä¿¡æ¯
                          type: string
                        æ˜¯å¦é¢„å”®:
                          description: è®¢å•æ˜¯å¦ä¸ºé¢„å”®è®¢å•ï¼Œå–å€¼ï¼šæ˜¯/å¦ã€‚å½“å–å€¼ä¸º"æ˜¯"æ—¶ï¼Œé…é€æ–¹å¼éœ€ä»é¢„å”®é…é€æ–¹å¼ä¸­é€‰æ‹©ï¼ˆä»“åº“è‡ªæã€ç å¤´è‡ªæã€ä»“åº“é…é€ã€ç å¤´æé€ã€ä¾›åº”å•†ç›´é€ã€ç å¤´ç›´é€ã€ä¾›åº”å•†ä»“åº“æé€ï¼‰ï¼›å½“å–å€¼ä¸º"å¦"æ—¶ï¼Œé…é€æ–¹å¼ä»æ™®é€šé…é€æ–¹å¼ä¸­é€‰æ‹©ï¼ˆç‰©æµé…é€ã€è‡ªæã€ç å¤´æé€ã€ä¾›åº”å•†ç›´é€ã€å¿«é€’ã€æ‰˜è¿ã€é€è´§ä¸Šé—¨ã€å‚è½¦é€è´§ã€äº”è±è‡ªæï¼‰
                          enum:
                          - æ˜¯
                          - å¦
                          type: string
                        ç»“ç®—ä¿¡æ¯:
                          description: ç»“ç®—ç›¸å…³ä¿¡æ¯ï¼Œç»“ç®—æ–¹å¼å¯é€‰å€¼ï¼šé“¶è¡Œè½¬è´¦ã€æ‰¿å…‘æ±‡ç¥¨ã€é“¶è¡Œè½¬è´¦+æ‰¿å…‘æ±‡ç¥¨ï¼›å¯åŒ…å«ç»“ç®—å‘¨æœŸã€ç»“ç®—æ•°é‡ç­‰è¡¥å……ä¿¡æ¯
                          type: string
                      required: []
                      type: object
                    å®¢æˆ·ä¿¡æ¯:
                      properties:
                        ä¾›åº”å•†åç§°:
                          description: ä¾›åº”å•†çš„å…¬å¸åç§°ã€‚è¥¿é™‡å…¬å¸åŠå…¶å…³è”å…¬å¸åŒ…æ‹¬ï¼šè¥¿é™‡ç§‘å­¦è‚¡ä»½æœ‰é™å…¬å¸ã€å¹¿å·å¸‚è¥¿é™‡åŒ–å·¥æœ‰é™å…¬å¸ã€å››å·è¥¿é™‡ç§‘å­¦æœ‰é™å…¬å¸ã€å—å®å¸‚è¥¿é™‡åŒ–å·¥æœ‰é™å…¬å¸ã€ä¸Šæµ·è¥¿é™‡åŒ–å·¥æœ‰é™å…¬å¸ã€å¹¿å·è¥¿é™‡ç²¾ç»†åŒ–å·¥æŠ€æœ¯æœ‰é™å…¬å¸ã€ä½›å±±è¥¿é™‡åŒ–å·¥æœ‰é™å…¬å¸ã€å¹¿ä¸œè¥¿é™‡åŒ–å·¥æœ‰é™å…¬å¸ã€å¹¿å·æœ‰æ–™ä¾›åº”é“¾æœåŠ¡æœ‰é™å…¬å¸ã€ä½›å±±å¸‚é™‡æ˜Šæ–°ææ–™æœ‰é™å…¬å¸
                          type: string
                        ä¾›åº”å•†åœ°å€:
                          description: ä¾›åº”å•†çš„è”ç³»åœ°å€
                          type: string
                        ä¾›åº”å•†ç”µè¯:
                          description: ä¾›åº”å•†çš„è”ç³»ç”µè¯
                          type: string
                        ä¾›åº”å•†è”ç³»äºº:
                          description: ä¾›åº”å•†çš„è”ç³»äººå§“å
                          type: string
                        å…¬å¸åç§°:
                          description: å®¢æˆ·çš„å…¬å¸åç§°
                          type: string
                        é‡‡è´­è®¢å•å·:
                          description: å®¢æˆ·çš„é‡‡è´­è®¢å•ç¼–å·
                          type: string
                      required:
                      - å…¬å¸åç§°
                      type: object
                    æ”¶è´§ä¿¡æ¯:
                      properties:
                        æ”¶è´§åœ°å€:
                          description: è´§ç‰©é€è¾¾çš„åœ°å€
                          type: string
                        é…é€æ–¹å¼:
                          description: è´§ç‰©çš„é…é€æ–¹å¼ã€‚éœ€æ ¹æ®"å…¶ä»–ä¿¡æ¯"ä¸­çš„"æ˜¯å¦é¢„å”®"å­—æ®µé€‰æ‹©ï¼šå½“"æ˜¯å¦é¢„å”®"ä¸º"å¦"æ—¶ï¼Œå¯é€‰å€¼ï¼šç‰©æµé…é€ã€è‡ªæã€ç å¤´æé€ã€ä¾›åº”å•†ç›´é€ã€å¿«é€’ã€æ‰˜è¿ã€é€è´§ä¸Šé—¨ã€å‚è½¦é€è´§ã€äº”è±è‡ªæï¼›å½“"æ˜¯å¦é¢„å”®"ä¸º"æ˜¯"æ—¶ï¼Œå¯é€‰å€¼ï¼šä»“åº“è‡ªæã€ç å¤´è‡ªæã€ä»“åº“é…é€ã€ç å¤´æé€ã€ä¾›åº”å•†ç›´é€ã€ç å¤´ç›´é€ã€ä¾›åº”å•†ä»“åº“æé€
                          type: string
                      required: []
                      type: object
                    ç‰©æ–™æ˜ç»†:
                      items:
                        properties:
                          å•ä»·:
                            description: å•ä¸ªç‰©æ–™çš„å•ä»·
                            type: number
                          å•ä½:
                            description: ç‰©æ–™çš„è®¡é‡å•ä½ï¼ˆå¦‚ï¼škgã€ç“¶ã€æ¡¶ç­‰ï¼‰
                            type: string
                          åç§°:
                            description: ç‰©æ–™çš„åç§°
                            type: string
                          å•†å“ç±»å‹:
                            description: ç‰©æ–™çš„å•†å“ç±»å‹åˆ†ç±»
                            type: string
                          å¤‡æ³¨:
                            description: ç‰©æ–™ç›¸å…³çš„å¤‡æ³¨ä¿¡æ¯
                            type: string
                          æ€»é‡‘é¢:
                            description: è¯¥ç‰©æ–™çš„æ€»é‡‘é¢ï¼ˆå•ä»·Ã—æ•°é‡ï¼‰
                            type: number
                          æ•°é‡:
                            description: ç‰©æ–™çš„è®¢è´­æ•°é‡
                            type: integer
                          æœŸæœ›äº¤è´§æ—¥æœŸ:
                            description: å®¢æˆ·æœŸæœ›çš„è´§ç‰©äº¤ä»˜æ—¥æœŸï¼Œæ ¼å¼ä¸ºYYYY-MM-DD
                            format: date
                            type: string
                        required:
                        - åç§°
                        - å•†å“ç±»å‹
                        - æ•°é‡
                        - å•ä½
                        - æœŸæœ›äº¤è´§æ—¥æœŸ
                        type: object
                      type: array
                  required:
                  - å®¢æˆ·ä¿¡æ¯
                  - ç‰©æ–™æ˜ç»†
                  - å…¶ä»–ä¿¡æ¯
                  type: object
                type: array
            required:
            - intent
            - confidence
            - confidence_level
            - confidence_reason
            - clarify_needed
            - orderlist
            - customerlist
            - customerlistArray
            - goodslist
            - goodslistArray
            - Customer_goods_List
            type: object
        structured_output_enabled: true
        title: æ„å›¾è¯†åˆ«
        type: llm
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: false
      height: 88
      id: '1761896534199'
      position:
        x: 1876.4199536245674
        y: 190.8638610754693
      positionAbsolute:
        x: 1876.4199536245674
        y: 190.8638610754693
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: is
            id: e09d35d9-205b-434f-aa7f-79e23e731d83
            value: è‡ªåŠ©ä¸‹å•
            varType: string
            variable_selector:
            - '1761896534199'
            - structured_output
            - intent
          - comparison_operator: is
            id: 3b4761ae-26b7-4609-8435-8bb07369f496
            value: 'false'
            varType: object
            variable_selector:
            - '1761896534199'
            - structured_output
            - clarify_needed
          id: 'true'
          logical_operator: and
        - case_id: cc72a78a-d90d-4a8d-ad8c-6f0c9619f0c2
          conditions:
          - comparison_operator: is
            id: feed78b8-db30-4b2d-b385-e5035840d984
            value: 'true'
            varType: string
            variable_selector:
            - '1761896534199'
            - structured_output
            - clarify_needed
          id: cc72a78a-d90d-4a8d-ad8c-6f0c9619f0c2
          logical_operator: and
        selected: false
        title: æ¡ä»¶åˆ†æ”¯ 2
        type: if-else
      height: 198
      id: '1762313281615'
      position:
        x: 2208.977157553172
        y: 190.8638610754693
      positionAbsolute:
        x: 2208.977157553172
        y: 190.8638610754693
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        memory:
          query_prompt_template: '## æ„å›¾è¯†åˆ«ä¿¡æ¯ï¼š{{#1761896534199.structured_output#}}

            ## å†å²è®¢å•ï¼š{{#1762401118434.result#}}

            ## å®¢æˆ·ä¸šåŠ¡å…³ç³»ï¼š{{#1762400638596.result#}}

            ## å•†å“ä¿¡æ¯ï¼š{{#1762395530294-code.result#}}

            ## ç”¨æˆ·è¾“å…¥ï¼š{{#sys.query#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 50
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: qwen-plus-latest
          provider: langgenius/tongyi/tongyi
        prompt_template:
        - id: 1c5eb7f7-361b-41f5-bdfb-e70a311bc96d
          role: system
          text: "# è®¢å•åŠ©æ‰‹-ç»„è£…JSON&å›å†™ Promptï¼ˆåˆç‰ˆï¼‰\n\n\n### è§’è‰²/ä»»åŠ¡\nä½ æ˜¯è®¢å•ä¿¡æ¯ç»„è£…ä¸“å®¶ï¼Œå°†ä¸Šä¸€èŠ‚ç‚¹çš„è®¢å•ä¿¡æ¯æ•´ç†æˆç”¨æˆ·å‹å¥½æ ¼å¼å¹¶ç”Ÿæˆæ ‡å‡†åŒ–JSONã€‚\n\
            \n\n### è¾“å‡ºæ ¼å¼\n1. å¼€å¤´ï¼š\"æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘å·²å®Œå–„è®¢å•ä¿¡æ¯å¹¶ç”Ÿæˆè®¢å•çš„è‰ç¨¿ä¿¡æ¯ï¼š\"\n2. ç»Ÿè®¡ä¿¡æ¯ï¼šå®¢æˆ·æ•°é‡ã€é‡‡è´­å•æ•°é‡ã€å•†å“æ•°é‡\n\
            3. å•†å“æ˜ç»†è¡¨æ ¼ï¼ˆMarkdownï¼‰ï¼šå®¢æˆ·åç§°ã€å®¢æˆ·å•†å“åç§°ã€è§„æ ¼ã€å†…éƒ¨å•†å“åç§°ã€å†…éƒ¨ç‰©æ–™ç¼–ç ã€å•†å“ç±»å‹ã€å“ç‰Œã€å‹å·/ç­‰çº§ã€å•ä»·ã€æ•°é‡ã€å•ä½ã€æœŸæœ›å‘è´§æ—¥æœŸ\n\
            4. è®¢å•è¡¥å……ä¿¡æ¯è¡¨æ ¼ï¼ˆMarkdownï¼‰ï¼šå®¢æˆ·åç§°ã€æ”¯ä»˜æ–¹å¼ã€ç»“ç®—æ–¹å¼ã€å‘ç¥¨ç±»å‹ã€é…é€æ–¹å¼ã€è®¢å•å¤‡æ³¨\n5. éœ€è¦å¤æ ¸çš„å…³é”®äº‹é¡¹ï¼šæ¨ç†è¡¥å……çš„ä¿¡æ¯ã€å…¶ä»–éœ€è¦ç¡®è®¤çš„äº‹é¡¹\n\
            6. JSONæ ¼å¼ï¼ˆç”¨```xl-orderåŒ…è£¹ï¼‰ï¼š\n```json\n{\n  \"orderList\": [{\n    \"saleType\"\
            : 10,\n    \"placeType\": 0,\n    \"buyerCompanyId\": \"[ä»å®¢æˆ·ä¸šåŠ¡å…³ç³»æˆ–å†å²è®¢å•æå–]\"\
            ,\n    \"buyerCompanyName\": \"[å…¬å¸åç§°]\",\n    \"sellerCompanyId\": 1,\n\
            \    \"sellerCompanyName\": \"è¥¿é™‡ç§‘å­¦è‚¡ä»½æœ‰é™å…¬å¸\",\n    \"deliverCompanyId\"\
            : 1,\n    \"deliverCompanyName\": \"è¥¿é™‡ç§‘å­¦è‚¡ä»½æœ‰é™å…¬å¸\",\n    \"deliverCompanyPlateType\"\
            : 2,\n    \"payType\": \"[æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼š1|2|4|21|24]\",\n    \"deliverType\"\
            : \"[æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼š1|2|3|4|5|6|7|9|10]\",\n    \"presellDeliverType\": \"[é¢„å”®æ—¶é€‰æ‹©ï¼š6|7|8|9|11|12|13]\"\
            ,\n    \"settleType\": \"[æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼š1|2|3]\",\n    \"invoiceType\": \"\
            [æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼š0|1|2]\",\n    \"consigneeAddressId\": 1,\n    \"driverId\"\
            : 1,\n    \"description\": \"[åˆå¹¶åçš„å®Œæ•´è®¢å•å¤‡æ³¨ï¼ŒåŒ…å«åˆåŒç¼–å·]\",\n    \"skuList\":\
            \ [{\n      \"skuId\": \"[IDæˆ–é»˜è®¤å€¼]\",\n      \"name\": \"[å†…éƒ¨å•†å“åç§°]\",\n\
            \      \"goodsId\": \"[IDæˆ–é»˜è®¤å€¼]\",\n      \"storeCode\": \"[å†…éƒ¨ç‰©æ–™ç¼–ç ]\",\n\
            \      \"amount\": \"[æ•°é‡(KG)]\",\n      \"limitMin\": 1,\n      \"price\"\
            : \"[å•ä»·æˆ–0]\",\n      \"specification\": \"[è§„æ ¼]\",\n      \"warehouseId\"\
            : 2029,\n      \"warehouseName\": \"å¹³å°ä»“\",\n      \"description\": \"\
            [ç‰©æ–™å¤‡æ³¨]\",\n      \"remark\": \"[æ˜“åˆ¶æ¯’/æ˜“åˆ¶çˆ†ç­‰]\",\n      \"genOrder\": 0,\n\
            \      \"expectDeliverDate\": \"[YYYY-MM-DD]\",\n      \"specialQuality\"\
            : \"[æ˜“åˆ¶æ¯’/æ˜“åˆ¶çˆ†ç­‰]\",\n      \"goodsType\": \"[å•†å“ç±»å‹]\",\n      \"brand\":\
            \ \"[å“ç‰Œ]\",\n      \"modelGrade\": \"[å‹å·/ç­‰çº§]\"\n    }]\n  }]\n}\n```\n\
            \n\n### å­—æ®µæ˜ å°„\n\n\n#### è®¢å•çº§åˆ«å­—æ®µ\n- **å®¢æˆ·ä¿¡æ¯**ï¼šä»å®¢æˆ·ä¿¡æ¯.å…¬å¸åç§°è·å–\n- **buyerCompanyId**ï¼šä¼˜å…ˆä»å®¢æˆ·ä¸šåŠ¡å…³ç³»æ£€ç´¢ç»“æœä¸­æå–ï¼Œå¦‚æœæ£€ç´¢ç»“æœä¸­åŒ…å«buyerCompanyIdå­—æ®µï¼Œä½¿ç”¨è¯¥å€¼ï¼›å¦‚æœæ£€ç´¢å¤±è´¥ï¼Œå°è¯•ä»å†å²è®¢å•ä¸­æå–ï¼›å¦‚æœéƒ½å¤±è´¥ï¼Œä½¿ç”¨é»˜è®¤å€¼0å¹¶åœ¨\"\
            éœ€è¦å¤æ ¸çš„å…³é”®äº‹é¡¹\"ä¸­è¯´æ˜\n\n\n#### è®¢å•ç±»å‹å­—æ®µ\n- **saleTypeï¼ˆè®¢å•ç±»å‹ï¼‰**ï¼š10=ç°è´§ï¼Œ20=é¢„å”®\n- **placeTypeï¼ˆä¸‹å•ç±»å‹ï¼‰**ï¼š0=å¦ï¼ˆéå†…å‹¤ä¸‹å•ï¼‰ï¼Œ1=æ˜¯ï¼ˆå†…å‹¤ä¸‹å•ï¼‰\n\
            \n\n#### æ”¯ä»˜ç»“ç®—å­—æ®µ\n- **payTypeï¼ˆæ”¯ä»˜æ–¹å¼ï¼‰**ï¼š1=è´¦æœŸæ”¯ä»˜ï¼Œ2=çº¿ä¸‹æ”¯ä»˜ï¼ˆé“¶è¡Œè½¬è´¦ï¼‰ï¼Œ4=æ‰¿å…‘æ±‡ç¥¨ï¼Œ21=åœ¨çº¿æ”¯ä»˜ï¼Œ24=é“¶è¡Œè½¬è´¦+æ‰¿å…‘æ±‡ç¥¨\n\
            - **settleTypeï¼ˆç»“ç®—æ–¹å¼ï¼‰**ï¼š1=é“¶è¡Œè½¬è´¦ï¼Œ2=æ‰¿å…‘æ±‡ç¥¨ï¼Œ3=é“¶è¡Œè½¬è´¦+æ‰¿å…‘æ±‡ç¥¨\n- **invoiceTypeï¼ˆå‘ç¥¨ç±»å‹ï¼‰**ï¼š0=ä¸å¼€ç¥¨ï¼Œ1=å¢å€¼ç¨ä¸“ç”¨å‘ç¥¨ï¼Œ2=å¢å€¼ç¨æ™®é€šå‘ç¥¨\n\
            \n\n#### é…é€æ–¹å¼å­—æ®µ\n- **deliverTypeï¼ˆé…é€æ–¹å¼ï¼‰**ï¼š1=ç‰©æµé…é€ï¼Œ2=è‡ªæï¼Œ3=ç å¤´æè´§ï¼Œ4=ä¾›åº”å•†ç›´é€ï¼Œ5=å¿«é€’ï¼Œ6=æ‰˜è¿ï¼Œ7=é€è´§ä¸Šé—¨ï¼Œ9=å‚è½¦é€è´§ï¼Œ10=äº”è±è‡ªæ\n\
            - **presellDeliverTypeï¼ˆé¢„å”®é…é€æ–¹å¼ï¼‰**ï¼š6=ä»“åº“è‡ªæï¼Œ7=ç å¤´è‡ªæï¼Œ8=ä»“åº“é…é€ï¼Œ9=ç å¤´æè´§ï¼Œ11=ä¾›åº”å•†ç›´é€ï¼Œ12=ç å¤´ç›´é€ï¼Œ13=ä¾›åº”å•†ä»“åº“æé€\n\
            \n\n#### å…¬å¸ä»“åº“å­—æ®µ\n- **deliverCompanyPlateTypeï¼ˆå‘è´§å…¬å¸å¹³å°ç±»å‹ï¼‰**ï¼š1=ä½›å±±è¥¿é™‡ï¼Œ2=è¥¿é™‡ç§‘å­¦\n\
            - **warehouseIdï¼ˆä»“åº“ç±»å‹ï¼‰**ï¼š2029=å¹³å°å®ä½“ä»“\n\n\n#### è®¢å•å¤‡æ³¨å­—æ®µ\n- **descriptionï¼ˆè®¢å•å¤‡æ³¨ï¼‰**åˆå¹¶è§„åˆ™ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰ï¼š\n\
            \  1. ä¼˜å…ˆä½¿ç”¨å†å²è®¢å•æ£€ç´¢ç»“æœä¸­çš„å®Œæ•´å¤‡æ³¨ä¿¡æ¯\n  2. å…¶æ¬¡ä½¿ç”¨æ„å›¾è¯†åˆ«èŠ‚ç‚¹æå–çš„å¤‡æ³¨ä¿¡æ¯ï¼ˆå…¶ä»–ä¿¡æ¯.å¤‡æ³¨ä¿¡æ¯ï¼‰\n  3. åˆå¹¶å¤šä¸ªä¿¡æ¯æºï¼šå¦‚æœå†å²è®¢å•æœ‰å®Œæ•´å¤‡æ³¨ï¼Œä¼˜å…ˆä½¿ç”¨ï¼›å¦åˆ™åˆå¹¶æ„å›¾è¯†åˆ«å’Œå†å²è®¢å•çš„å¤‡æ³¨å†…å®¹\n\
            \  4. ç¡®ä¿åˆåŒç¼–å·è¢«åŒ…å«ï¼šä»å¤‡æ³¨ä¿¡æ¯å­—æ®µä¸­æå–åˆåŒç¼–å·ï¼ˆå¦‚TH202505002ï¼‰ï¼Œå¦‚æœå­˜åœ¨ï¼Œå¿…é¡»åŒ…å«åœ¨descriptionä¸­\n\
            \  5. åˆå¹¶æ ¼å¼ï¼šç”¨åˆ†å·ï¼ˆï¼›ï¼‰åˆ†éš”å¤šä¸ªå¤‡æ³¨å†…å®¹\n\n\n#### å­—æ®µå–å€¼è¯´æ˜\nä»å…¶ä»–ä¿¡æ¯/æ”¶è´§ä¿¡æ¯è·å–æ”¯ä»˜/ç»“ç®—/å‘ç¥¨/é…é€æ–¹å¼ï¼Œç¼ºå¤±æ ‡æ³¨\"\
            æ¨ç†è¡¥å……\"\n\n\n**æ”¯ä»˜æ–¹å¼æ˜ å°„è¡¨**ï¼š\n- è´¦æœŸæ”¯ä»˜ â†’ payType=1\n- çº¿ä¸‹æ”¯ä»˜/é“¶è¡Œè½¬è´¦ â†’ payType=2\n\
            - æ‰¿å…‘æ±‡ç¥¨ â†’ payType=4\n- åœ¨çº¿æ”¯ä»˜ â†’ payType=21\n- é“¶è¡Œè½¬è´¦+æ‰¿å…‘æ±‡ç¥¨ â†’ payType=24\n\n\n\
            **ç»“ç®—æ–¹å¼æ˜ å°„è¡¨**ï¼š\n- é“¶è¡Œè½¬è´¦ â†’ settleType=1\n- æ‰¿å…‘æ±‡ç¥¨ â†’ settleType=2\n- é“¶è¡Œè½¬è´¦+æ‰¿å…‘æ±‡ç¥¨\
            \ â†’ settleType=3\n\n\n**å‘ç¥¨ç±»å‹æ˜ å°„è¡¨**ï¼š\n- ä¸å¼€ç¥¨ â†’ invoiceType=0\n- å¢å€¼ç¨ä¸“ç”¨å‘ç¥¨ â†’\
            \ invoiceType=1\n- å¢å€¼ç¨æ™®é€šå‘ç¥¨ â†’ invoiceType=2\n\n\n**é…é€æ–¹å¼æ˜ å°„è¡¨**ï¼š\n- ç‰©æµé…é€ â†’\
            \ deliverType=1\n- è‡ªæ â†’ deliverType=2\n- ç å¤´æè´§ â†’ deliverType=3\n- ä¾›åº”å•†ç›´é€\
            \ â†’ deliverType=4\n- å¿«é€’ â†’ deliverType=5\n- æ‰˜è¿ â†’ deliverType=6\n- é€è´§ä¸Šé—¨\
            \ â†’ deliverType=7\n- å‚è½¦é€è´§ â†’ deliverType=9\n- äº”è±è‡ªæ â†’ deliverType=10\n\n\
            \n**é¢„å”®é…é€æ–¹å¼æ˜ å°„è¡¨**ï¼ˆä»…å½“saleType=20æ—¶ä½¿ç”¨ï¼‰ï¼š\n- ä»“åº“è‡ªæ â†’ presellDeliverType=6\n- ç å¤´è‡ªæ\
            \ â†’ presellDeliverType=7\n- ä»“åº“é…é€ â†’ presellDeliverType=8\n- ç å¤´æè´§ â†’ presellDeliverType=9\n\
            - ä¾›åº”å•†ç›´é€ â†’ presellDeliverType=11\n- ç å¤´ç›´é€ â†’ presellDeliverType=12\n- ä¾›åº”å•†ä»“åº“æé€\
            \ â†’ presellDeliverType=13\n\n\n### å¤„ç†è§„åˆ™\n1. ç¼ºå¤±å­—æ®µç•™ç©ºæˆ–ä½¿ç”¨é»˜è®¤å€¼ï¼Œåœ¨\"æ¨ç†è¡¥å……çš„ä¿¡æ¯\"\
            ä¸­è¯´æ˜\n2. å¤šè®¢å•/å¤šç‰©æ–™ï¼šæ¯ä¸ªè®¢å•ç‹¬ç«‹è¡¨æ ¼å’ŒJSONæ¡ç›®ï¼Œæ¯è¡Œä¸€ä¸ªç‰©æ–™\n3. ä¸¥æ ¼æŒ‰ç…§è¾“å…¥æ•°æ®ç”Ÿæˆï¼Œä¸ä¿®æ”¹æˆ–æ¨æ–­ä¸å­˜åœ¨ä¿¡æ¯ï¼ˆé™¤éæ˜ç¡®è¯´æ˜æ¨ç†è¡¥å……ï¼‰\n\
            4. Markdownè¡¨æ ¼å’ŒJSONæ ¼å¼å¿…é¡»æ­£ç¡®æœ‰æ•ˆ\n5. **æ•°é‡è½¬æ¢è§„åˆ™**ï¼š - amountå­—æ®µï¼šç­‰äºæ•°é‡ï¼ˆKGï¼‰ï¼Œä¸æ˜¯æ€»é‡‘é¢ -\
            \ å¦‚æœå•ä½å·²ç»æ˜¯KGï¼Œåˆ™amount = æ•°é‡ - å¦‚æœéœ€è¦å•ä½è½¬æ¢ï¼ŒæŒ‰ç…§å•ä½è½¬æ¢è§„åˆ™è®¡ç®—ï¼ˆå¦‚ï¼š25kg/è¢‹ï¼Œæ•°é‡2000KGï¼Œåˆ™amount\
            \ = 2000ï¼‰\n6. **å•†å“ä¿¡æ¯åŒ¹é…ä¼˜åŒ–**ï¼ˆé‡è¦ï¼‰ï¼š - å½“å•†å“ä¿¡æ¯æ£€ç´¢å¤±è´¥æ—¶ï¼ˆå•†å“ä¿¡æ¯æ£€ç´¢ç»“æœä¸ºç©ºæˆ–æœªæ‰¾åˆ°åŒ¹é…é¡¹ï¼‰ï¼Œå°è¯•ä½¿ç”¨å®¢æˆ·æ˜ å°„å…³ç³»ï¼š\
            \ 1. æ£€æŸ¥å®¢æˆ·ä¸šåŠ¡å…³ç³»æ£€ç´¢ç»“æœä¸­æ˜¯å¦æœ‰å®¢æˆ·å•†å“æ˜ å°„ä¿¡æ¯ï¼ˆå¦‚\"æ°¯åŒ–é“µ\"â†’\"æ°¯åŒ–é“°\"ï¼‰ 2. å¦‚æœæ‰¾åˆ°å®¢æˆ·å•†å“æ˜ å°„å…³ç³»ï¼Œä½¿ç”¨æ˜ å°„åçš„å•†å“åç§°ï¼ˆå¦‚\"\
            æ°¯åŒ–é“°\"ï¼‰é‡æ–°åŒ¹é…å•†å“ä¿¡æ¯ 3. å¦‚æœä»ç„¶å¤±è´¥ï¼Œè‡³å°‘ä¿ç•™ä»¥ä¸‹åŸºæœ¬ä¿¡æ¯ï¼š * nameï¼šä½¿ç”¨å®¢æˆ·å•†å“åç§°ï¼ˆä»æ„å›¾è¯†åˆ«èŠ‚ç‚¹æå–ï¼‰ * priceï¼šä½¿ç”¨å•ä»·ï¼ˆä»æ„å›¾è¯†åˆ«èŠ‚ç‚¹æå–ï¼‰\
            \ * amountï¼šä½¿ç”¨æ•°é‡ï¼ˆKGï¼‰ï¼ˆä»æ„å›¾è¯†åˆ«èŠ‚ç‚¹æå–ï¼‰ * expectDeliverDateï¼šä½¿ç”¨æœŸæœ›äº¤è´§æ—¥æœŸï¼ˆä»æ„å›¾è¯†åˆ«èŠ‚ç‚¹æå–ï¼‰\
            \ * specificationï¼šä½¿ç”¨è§„æ ¼ï¼ˆä»æ„å›¾è¯†åˆ«èŠ‚ç‚¹æå–ï¼Œå¦‚æœæœ‰ï¼‰ - å¯¹äºç¼ºå¤±çš„å­—æ®µï¼Œä½¿ç”¨é»˜è®¤å€¼ï¼š * skuIdï¼š0 * goodsIdï¼š0\
            \ * storeCodeï¼šç©ºå­—ç¬¦ä¸²\"\" * goodsTypeï¼šç©ºå­—ç¬¦ä¸²\"\" * brandï¼šç©ºå­—ç¬¦ä¸²\"\" * modelGradeï¼šç©ºå­—ç¬¦ä¸²\"\
            \" - åœ¨\"éœ€è¦å¤æ ¸çš„å…³é”®äº‹é¡¹\"ä¸­æ˜ç¡®è¯´æ˜ç¼ºå¤±çš„å­—æ®µå’ŒåŸå›  - **é‡è¦**ï¼šä¸è¦ç”Ÿæˆå®Œå…¨ç©ºçš„skuListé¡¹ï¼Œè‡³å°‘ä¿ç•™å®¢æˆ·å•†å“åç§°å’ŒåŸºæœ¬ä¿¡æ¯"
        - id: c98048a3-a74d-4705-848f-7a49c58d4179
          role: user
          text: /
        selected: false
        title: ç»„è£…json&å›æ˜¾
        type: llm
        vision:
          enabled: false
      height: 88
      id: '1762313978035'
      position:
        x: 3145.7491645638884
        y: 169.58389540998357
      positionAbsolute:
        x: 3145.7491645638884
        y: 169.58389540998357
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1762313978035.text#}}'
        selected: false
        title: ç›´æ¥å›å¤ 2
        type: answer
        variables: []
      height: 103
      id: '1762314751987'
      position:
        x: 3577.7370648370634
        y: 169.58389540998357
      positionAbsolute:
        x: 3577.7370648370634
        y: 169.58389540998357
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        error_handle_mode: terminated
        height: 212
        is_parallel: true
        iterator_input_type: array[string]
        iterator_selector:
        - '1761896534199'
        - structured_output
        - goodslistArray
        output_selector:
        - '1762395530294'
        - result
        output_type: array[object]
        parallel_nums: 10
        selected: false
        start_node_id: 1762395530294-iteration-start
        title: è¿­ä»£-å•†å“ä¿¡æ¯æ£€ç´¢
        type: iteration
        width: 274
      height: 212
      id: 1762395530294-iteration
      position:
        x: 2491.5239956850824
        y: -179.78192562330514
      positionAbsolute:
        x: 2491.5239956850824
        y: -179.78192562330514
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 274
      zIndex: 1
    - data:
        desc: ''
        isInIteration: true
        selected: false
        title: ''
        type: iteration-start
      draggable: false
      height: 48
      id: 1762395530294-iteration-start
      parentId: 1762395530294-iteration
      position:
        x: 60
        y: 82
      positionAbsolute:
        x: 2551.5239956850824
        y: -97.78192562330514
      selectable: false
      sourcePosition: right
      targetPosition: left
      type: custom-iteration-start
      width: 44
      zIndex: 1002
    - data:
        dataset_ids:
        - +sFyT6wbvnSn3jjp5ge9YKBCznttHuFWhr4Axt8lql8iwXykrqh9XmrFGPvSuWT5
        isInIteration: true
        iteration_id: 1762395530294-iteration
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: weighted_score
          top_k: 3
          weights:
            keyword_setting:
              keyword_weight: 0.7
            vector_setting:
              embedding_model_name: BAAI/bge-large-zh-v1.5
              embedding_provider_name: langgenius/siliconflow/siliconflow
              vector_weight: 0.3
        query_variable_selector:
        - 1762395530294-iteration
        - item
        retrieval_mode: multiple
        selected: false
        title: å•†å“ä¿¡æ¯æ£€ç´¢
        type: knowledge-retrieval
      height: 90
      id: '1762395530294'
      parentId: 1762395530294-iteration
      position:
        x: 16
        y: 65
      positionAbsolute:
        x: 2507.5239956850824
        y: -114.78192562330514
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
      zIndex: 1002
    - data:
        code: "def main(instructions: list) -> dict:\n    \"\"\"\n    ä»è¿­ä»£èŠ‚ç‚¹çš„è¾“å‡ºä¸­æå–æ‰€æœ‰å•†å“æ£€ç´¢ç»“æœ\n\
          \    è¿­ä»£çš„outputæ˜¯æ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯è¯¥æ¬¡è¿­ä»£å†…éƒ¨èŠ‚ç‚¹çš„è¾“å‡ºé›†åˆ\n    å¯¹äºçŸ¥è¯†æ£€ç´¢èŠ‚ç‚¹ï¼Œè¾“å‡ºåœ¨resultå­—æ®µä¸­ï¼Œæ˜¯array[object]\n\
          \    \"\"\"\n    import json\n    \n    all_contents = []\n    debug_info\
          \ = []\n    \n    # è°ƒè¯•ï¼šè®°å½•åŸå§‹ç»“æ„\n    debug_info.append(f\"Total iterations:\
          \ {len(instructions)}\")\n    \n    for idx, iteration_item in enumerate(instructions):\n\
          \        debug_info.append(f\"\\nIteration {idx}: type={type(iteration_item).__name__}\"\
          )\n        \n        if isinstance(iteration_item, dict):\n            debug_info.append(f\"\
          Keys: {list(iteration_item.keys())}\")\n            \n            # çŸ¥è¯†æ£€ç´¢èŠ‚ç‚¹çš„è¾“å‡ºé€šå¸¸åœ¨'result'å­—æ®µ\n\
          \            result_data = iteration_item.get('result', [])\n          \
          \  debug_info.append(f\"Result type: {type(result_data).__name__}, len:\
          \ {len(result_data) if isinstance(result_data, list) else 'N/A'}\")\n  \
          \          \n            if isinstance(result_data, list):\n           \
          \     for doc_idx, doc in enumerate(result_data):\n                    if\
          \ isinstance(doc, dict):\n                        content = doc.get('content',\
          \ '')\n                        if content:\n                           \
          \ all_contents.append(content)\n                            debug_info.append(f\"\
          \  Doc {doc_idx}: extracted content (length: {len(content)})\")\n    \n\
          \    # è¾“å‡ºç»“æœ\n    result_text = \"\\n\\n---\\n\\n\".join(all_contents) if\
          \ all_contents else \"[æœªæ‰¾åˆ°å•†å“ä¿¡æ¯]\"\n    \n    # æ·»åŠ è°ƒè¯•ä¿¡æ¯ï¼ˆå¯é€‰ï¼Œç”¨äºæ’æŸ¥é—®é¢˜ï¼‰\n    #\
          \ result_text = \"[DEBUG]\\n\" + \"\\n\".join(debug_info) + \"\\n\\n[CONTENT]\\\
          n\" + result_text\n    \n    return {'result': result_text}"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ-æå–å•†å“ä¿¡æ¯
        type: code
        variables:
        - value_selector:
          - 1762395530294-iteration
          - output
          value_type: array[object]
          variable: instructions
      height: 52
      id: 1762395530294-code
      position:
        x: 2862.9404037517734
        y: -49.0072724271177
      positionAbsolute:
        x: 2862.9404037517734
        y: -49.0072724271177
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - jnCj7KYoMO2IKL0/Y0BB1sTp0hLYQCK3UHNxDcv4BWea7ZBneiWoaHHHGdMcLCBu
        multiple_retrieval_config:
          reranking_enable: false
          reranking_mode: reranking_model
          reranking_model:
            model: netease-youdao/bce-reranker-base_v1
            provider: langgenius/siliconflow/siliconflow
          top_k: 1
        query_variable_selector:
        - '1761896534199'
        - structured_output
        - customerlist
        retrieval_mode: multiple
        selected: false
        title: å®¢æˆ·ä¸šåŠ¡å…³ç³»
        type: knowledge-retrieval
      height: 90
      id: '1762400638596'
      position:
        x: 2541.1844695524255
        y: 67.95034081289933
      positionAbsolute:
        x: 2541.1844695524255
        y: 67.95034081289933
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - dD6nt3b0wm34a1db83pGiaM4EEFX92hI4U7d1jhOkKFlTlCuKhj3LCjj67gKJcoW
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: reranking_model
          reranking_model:
            model: netease-youdao/bce-reranker-base_v1
            provider: langgenius/siliconflow/siliconflow
          top_k: 2
        query_variable_selector:
        - '1761896534199'
        - structured_output
        - customerlist
        retrieval_mode: multiple
        selected: false
        title: å†å²è®¢å•
        type: knowledge-retrieval
      height: 90
      id: '1762401118434'
      position:
        x: 2559.9082502893298
        y: 190.8638610754693
      positionAbsolute:
        x: 2559.9082502893298
        y: 190.8638610754693
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        is_team_authorization: true
        paramSchemas:
        - auto_generate: null
          default: '%Y-%m-%d %H:%M:%S'
          form: form
          human_description:
            en_US: Time format in strftime standard.
            ja_JP: Time format in strftime standard.
            pt_BR: Time format in strftime standard.
            zh_Hans: strftime æ ‡å‡†çš„æ—¶é—´æ ¼å¼ã€‚
          label:
            en_US: Format
            ja_JP: Format
            pt_BR: Format
            zh_Hans: æ ¼å¼
          llm_description: null
          max: null
          min: null
          name: format
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: UTC
          form: form
          human_description:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          label:
            en_US: Timezone
            ja_JP: Timezone
            pt_BR: Timezone
            zh_Hans: æ—¶åŒº
          llm_description: null
          max: null
          min: null
          name: timezone
          options:
          - icon: null
            label:
              en_US: UTC
              ja_JP: UTC
              pt_BR: UTC
              zh_Hans: UTC
            value: UTC
          - icon: null
            label:
              en_US: America/New_York
              ja_JP: America/New_York
              pt_BR: America/New_York
              zh_Hans: ç¾æ´²/çº½çº¦
            value: America/New_York
          - icon: null
            label:
              en_US: America/Los_Angeles
              ja_JP: America/Los_Angeles
              pt_BR: America/Los_Angeles
              zh_Hans: ç¾æ´²/æ´›æ‰çŸ¶
            value: America/Los_Angeles
          - icon: null
            label:
              en_US: America/Chicago
              ja_JP: America/Chicago
              pt_BR: America/Chicago
              zh_Hans: ç¾æ´²/èŠåŠ å“¥
            value: America/Chicago
          - icon: null
            label:
              en_US: America/Sao_Paulo
              ja_JP: America/Sao_Paulo
              pt_BR: AmÃ©rica/SÃ£o Paulo
              zh_Hans: ç¾æ´²/åœ£ä¿ç½—
            value: America/Sao_Paulo
          - icon: null
            label:
              en_US: Asia/Shanghai
              ja_JP: Asia/Shanghai
              pt_BR: Asia/Shanghai
              zh_Hans: äºšæ´²/ä¸Šæµ·
            value: Asia/Shanghai
          - icon: null
            label:
              en_US: Asia/Ho_Chi_Minh
              ja_JP: Asia/Ho_Chi_Minh
              pt_BR: Ãsia/Ho Chi Minh
              zh_Hans: äºšæ´²/èƒ¡å¿—æ˜å¸‚
            value: Asia/Ho_Chi_Minh
          - icon: null
            label:
              en_US: Asia/Tokyo
              ja_JP: Asia/Tokyo
              pt_BR: Asia/Tokyo
              zh_Hans: äºšæ´²/ä¸œäº¬
            value: Asia/Tokyo
          - icon: null
            label:
              en_US: Asia/Dubai
              ja_JP: Asia/Dubai
              pt_BR: Asia/Dubai
              zh_Hans: äºšæ´²/è¿ªæ‹œ
            value: Asia/Dubai
          - icon: null
            label:
              en_US: Asia/Kolkata
              ja_JP: Asia/Kolkata
              pt_BR: Asia/Kolkata
              zh_Hans: äºšæ´²/åŠ å°”å„ç­”
            value: Asia/Kolkata
          - icon: null
            label:
              en_US: Asia/Seoul
              ja_JP: Asia/Seoul
              pt_BR: Asia/Seoul
              zh_Hans: äºšæ´²/é¦–å°”
            value: Asia/Seoul
          - icon: null
            label:
              en_US: Asia/Singapore
              ja_JP: Asia/Singapore
              pt_BR: Asia/Singapore
              zh_Hans: äºšæ´²/æ–°åŠ å¡
            value: Asia/Singapore
          - icon: null
            label:
              en_US: Europe/London
              ja_JP: Europe/London
              pt_BR: Europe/London
              zh_Hans: æ¬§æ´²/ä¼¦æ•¦
            value: Europe/London
          - icon: null
            label:
              en_US: Europe/Berlin
              ja_JP: Europe/Berlin
              pt_BR: Europe/Berlin
              zh_Hans: æ¬§æ´²/æŸæ—
            value: Europe/Berlin
          - icon: null
            label:
              en_US: Europe/Moscow
              ja_JP: Europe/Moscow
              pt_BR: Europe/Moscow
              zh_Hans: æ¬§æ´²/è«æ–¯ç§‘
            value: Europe/Moscow
          - icon: null
            label:
              en_US: Australia/Sydney
              ja_JP: Australia/Sydney
              pt_BR: Australia/Sydney
              zh_Hans: æ¾³å¤§åˆ©äºš/æ‚‰å°¼
            value: Australia/Sydney
          - icon: null
            label:
              en_US: Pacific/Auckland
              ja_JP: Pacific/Auckland
              pt_BR: Pacific/Auckland
              zh_Hans: å¤ªå¹³æ´‹/å¥¥å…‹å…°
            value: Pacific/Auckland
          - icon: null
            label:
              en_US: Africa/Cairo
              ja_JP: Africa/Cairo
              pt_BR: Africa/Cairo
              zh_Hans: éæ´²/å¼€ç½—
            value: Africa/Cairo
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: select
        params:
          format: ''
          timezone: ''
        provider_id: time
        provider_name: time
        provider_type: builtin
        selected: false
        title: è·å–å½“å‰æ—¶é—´
        tool_configurations:
          format:
            type: mixed
            value: '%Y-%m-%d %H:%M:%S'
          timezone:
            type: constant
            value: UTC
        tool_description: ä¸€ä¸ªç”¨äºè·å–å½“å‰æ—¶é—´çš„å·¥å…·ã€‚
        tool_label: è·å–å½“å‰æ—¶é—´
        tool_name: current_time
        tool_node_version: '2'
        tool_parameters: {}
        type: tool
      height: 114
      id: '1762938561146'
      position:
        x: 1671.0677150523456
        y: -49.0072724271177
      positionAbsolute:
        x: 1671.0677150523456
        y: -49.0072724271177
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        dataset_ids:
        - PxZAJvZnROtuS977GuEcppb+5Q9xThPyqpvZElkj0itugni4t1fwm2p+yuRXmSkV
        multiple_retrieval_config:
          reranking_enable: true
          reranking_mode: reranking_model
          reranking_model:
            model: netease-youdao/bce-reranker-base_v1
            provider: langgenius/siliconflow/siliconflow
          top_k: 4
        query_variable_selector:
        - start
        - sys.query
        retrieval_mode: multiple
        selected: false
        title: å®¢æˆ·æ˜ å°„å…³ç³»
        type: knowledge-retrieval
      height: 90
      id: '1762940792363'
      position:
        x: 1353.2096468584257
        y: -92.72226184398838
      positionAbsolute:
        x: 1353.2096468584257
        y: -92.72226184398838
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        cases:
        - case_id: 'true'
          conditions:
          - comparison_operator: contains
            id: 8c3d9a64-649c-4377-a093-31c7b0def403
            value: ''
            varType: array[file]
            variable_selector:
            - sys
            - files
          id: 'true'
          logical_operator: and
        selected: true
        title: æ¡ä»¶åˆ†æ”¯ 2
        type: if-else
      height: 124
      id: '1762997677438'
      position:
        x: 748.4818148169903
        y: -62.63015440338604
      positionAbsolute:
        x: 748.4818148169903
        y: -62.63015440338604
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -239.6378097677241
      y: 221.7748998684467
      zoom: 0.539275372864492
  rag_pipeline_variables: []
